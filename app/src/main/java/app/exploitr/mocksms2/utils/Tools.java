package app.exploitr.mocksms2.utils;

import android.content.Context;
import android.telephony.TelephonyManager;

import com.google.i18n.phonenumbers.PhoneNumberUtil;
import com.google.i18n.phonenumbers.Phonenumber;

import java.util.Locale;

public class Tools {
    public static boolean isVerifiedValidPhoneNumber(String phoneNumber) {
        PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();
        try {
            Phonenumber.PhoneNumber parsedNumber = phoneNumberUtil.parse(phoneNumber, null);
            return phoneNumberUtil.isValidNumber(parsedNumber);
        } catch (Exception e) {
            return false;
        }
    }

    //unused
    private static String getCurrentCountryCode(Context context) {
        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
        if (telephonyManager != null) {
            return getCountryNameByCode(telephonyManager.getNetworkCountryIso());
        }
        return "IN";
    }

    private static String getCountryNameByCode(String countryCode) {
        Locale locale = new Locale("", countryCode);
        return locale.getCountry();
    }
}
